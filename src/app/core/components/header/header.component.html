<header dropdown appTheme>
	<div class="d-flex flex-row header-height align-items-center px-sm-3 px-2">
		<img
			*ngIf="!inputExpanded"
			class="img-logo mb-sm-2"
			alt="UniQuanda-Logo"
			routerLink="/public/home" />
		<div class="d-flex flex-row mx-lg-3 mx-xl-4 mx-xxl-5 w-100">
			<app-header-search [(expanded)]="inputExpanded"></app-header-search>
		</div>
		<ng-container *ngIf="!inputExpanded">
			<ng-container *ngIf="user$ | async as user; else GuestItems">
				<app-button
					class="px-5 me-2 ask-question-button d-sm-flex d-none"
					routerLink="/user/ask-question"
					>Zadaj pytanie</app-button
				>
				<app-icon
					icon="mail"
					class="me-2 icon-header"
					appNotImplemented></app-icon>
				<app-icon
					icon="notification"
					class="me-2 icon-header"
					appNotImplemented></app-icon>
				<img
					[matMenuTriggerFor]="menu"
					src="{{
						user.avatar
							? user.avatar
							: 'assets/images/common/default_avatar.svg'
					}}"
					alt="Zdjęcie profiowe użytkownika"
					width="35"
					height="35"
					class="btn-avatar" />
				<mat-menu #menu="matMenu" backdropClass="app-header-dropdown-overlay">
					<app-header-dropdown></app-header-dropdown>
				</mat-menu>
			</ng-container>
			<ng-template #GuestItems>
				<app-button
					color="purple"
					routerLink="/public/register"
					class="a-btn me-sm-2 me-1">
					Zarejestruj się
				</app-button>
				<app-button class="a-btn" routerLink="/public/login">
					Zaloguj się
				</app-button>
			</ng-template>
		</ng-container>
	</div>
	<app-uniquanda-line></app-uniquanda-line>
</header>
